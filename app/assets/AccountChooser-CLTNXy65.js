import{r as S,c as z,o as V,l as n,m as t,H as m,p as q,f as e,n as a,an as M,u as f,J as k,F as P,aj as D,K as u,Q as v,M as g,I as F,G as p,W as A,ay as H,ao as O,v as T}from"./index-Ce0IJ7ho.js";import{Q as y,a as r,b as W}from"./QItemLabel-B9_w7Tra.js";import{Q as w}from"./QList-C0uoSPvW.js";import{Q as j}from"./QMenu-BZxrghfc.js";import{C as I}from"./ClosePopup-BKOsCe82.js";import{a as E}from"./screen-Blkwldx0.js";import{u as G}from"./use-quasar-5TzLoxai.js";import{u as J}from"./login-store-D9TXeugO.js";const K={class:"row q-col-gutter-sm"},R={class:"col-12"},U={key:0,class:"text-subtitle1 text-uppercase q-mb-sm"},X={key:1,class:"text-h6 text-capitalize"},Y={key:0,class:"q-px-md q-pb-md"},Z={key:0,class:"row"},ee={key:1,class:"q-px-md q-pb-md text-center"},ae={class:"q-px-md"},ie={__name:"AccountChooser",props:{cardStyle:{default:"",type:String}},setup(b){const i=G(),d=J(),C=S("Akun Lainnya"),c=S([]),$=b,B=z(()=>$.cardStyle==="custom-round"?E():""),Q=()=>{c.value=d.getSavedAccounts(),c.value=c.value.filter(o=>o.name!==localStorage.getItem("username"))};V(()=>{Q()});const L=()=>{localStorage.setItem("addAccount",1)},h=o=>{d.removeAccount(!1,o),Q()},x=(o,s)=>{d.setCookieOptions(),localStorage.setItem("username",o),i.cookies.set(T.cookieName,s,d.cookieOptions),window.location.reload()};return(o,s)=>(t(),n("div",K,[m("div",R,[m("div",{class:q([B.value,"q-mb-md"])},[e(O,{class:q(["content-card",b.cardStyle])},{default:a(()=>[e(M,{class:"q-mb-lg"},{default:a(()=>[f(i).screen.lt.sm?(t(),n("div",U,k(C.value),1)):(t(),n("div",X,k(C.value),1))]),_:1}),c.value.length>0?(t(),n("div",Y,[e(w,{bordered:"",class:"rounded-borders",separator:""},{default:a(()=>[(t(!0),n(P,null,D(c.value,(l,N)=>(t(),u(y,{clickable:"",key:N},{default:a(()=>[e(r,{avatar:""},{default:a(()=>[e(v,{color:"primary",name:"r_account_circle"})]),_:1}),e(r,null,{default:a(()=>[e(W,{class:"text-bold"},{default:a(()=>[g(k(l.name),1)]),_:2},1024)]),_:2},1024),e(r,{avatar:""},{default:a(()=>[o.$route.path!=="/pengaturan"||f(i).screen.gt.xs?(t(),n("div",Z,[e(p,{class:"custom-round",flat:"",color:"primary",icon:"r_login",size:"lg",onClick:_=>x(l.name,l.token)},null,8,["onClick"]),o.$route.path==="/pengaturan"&&f(i).screen.gt.xs?(t(),u(p,{key:0,class:"custom-round",flat:"",color:"primary",icon:"r_delete_outline",size:"lg",onClick:_=>h(l.name)},null,8,["onClick"])):F("",!0)])):(t(),u(p,{key:1,class:"custom-round mobile-only",flat:"",color:"primary",icon:"r_edit"},{default:a(()=>[e(j,null,{default:a(()=>[e(w,{style:{"min-width":"150px"}},{default:a(()=>[A((t(),u(y,{clickable:"",onClick:_=>x(l.name,l.token)},{default:a(()=>[e(r,{avatar:""},{default:a(()=>[e(v,{name:"r_login"})]),_:1}),e(r,null,{default:a(()=>s[0]||(s[0]=[g("Login")])),_:1})]),_:2},1032,["onClick"])),[[I]]),e(H),A((t(),u(y,{clickable:"",onClick:_=>h(l.name)},{default:a(()=>[e(r,{avatar:""},{default:a(()=>[e(v,{name:"r_delete_outline"})]),_:1}),e(r,null,{default:a(()=>s[1]||(s[1]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[I]])]),_:2},1024)]),_:2},1024)]),_:2},1024))]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(t(),n("div",ee,s[2]||(s[2]=[m("p",null,"Belum ada akun lain yang tersimpan.",-1)]))),m("div",ae,[e(p,{flat:"",label:"Tambahkan Akun",to:"/login",class:"save-btn q-mb-md see-more",color:"primary",onClick:L})])]),_:1},8,["class"])],2)])]))}};export{ie as _};
