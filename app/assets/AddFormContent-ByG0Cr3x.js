import{_ as x,ao as A,r as v,c as N,ah as O,l as t,m as w,f as a,n as o,Q as y,u as s,J as r,K as i,p as T,F as K,ai as D,t as J,M as S,I as C,G as c,am as E,ap as M}from"./index-Bv2yoVJ7.js";import{Q as U,a as f,b as $}from"./QItemLabel-Dt8h8JET.js";import{Q as j}from"./QList-B7qNjYLx.js";import{Q as G}from"./QForm-CMouir4H.js";import{u as P}from"./fund-store-BXVf6ko6.js";import{u as R}from"./use-quasar-Cio0xDhX.js";import{v as z,f as H,M as W}from"./cleave-zen.module-BjngOIXk.js";const X={__name:"AddFormContent",props:{mobile:{type:Boolean,default:!1}},setup(Q){const g=Q,e=P(),V=A(),q=R(),n=v(!1),m=v(!1),b=N(()=>e.data.kepemilikan),k=()=>{m.value=!1,e.save(h)},B=u=>{e.data.ownerId=u.value,e.data.ownerName=u.label},_=()=>{e.addBalance(),n.value=!1,m.value=!0},F=()=>{if(e.ownerList.length>0){n.value=!0;const u=v(null);setTimeout(()=>{u.value=document.querySelector(".saldo"),u.value.addEventListener("input",d=>{const p=d.target.value;e.data.balance=W(p)})},500)}else q.notify({type:"negative",message:"Silakan tambah data pemilik terlebih dahulu",position:"center"})},I=()=>{n.value=!1},h=()=>{g.mobile?V.push("/sumber-dana"):e.showAddForm=!1};return(u,d)=>{const p=O("dropdown-search");return t(),w("div",null,[a(E,{class:"scroll card-section"},{default:o(()=>[a(G,{class:"q-gutter-xs",onSubmit:k},{default:o(()=>[a(y,{outlined:"",modelValue:s(e).data.nama,"onUpdate:modelValue":d[0]||(d[0]=l=>s(e).data.nama=l),class:"rounded-field",label:"Nama Sumber Dana"},null,8,["modelValue"]),n.value?(t(),r(p,{key:0,onSelected:B,label:"Pilih Kepemilikan",list:s(e).ownerList,"options-value":{label:"kepemilikan",value:"id"},"load-on-route":"","custom-class":"rounded-field q-mt-md"},null,8,["list"])):i("",!0),n.value?(t(),r(y,{key:1,outlined:"",modelValue:s(e).data.balance,"onUpdate:modelValue":d[1]||(d[1]=l=>s(e).data.balance=l),class:"rounded-field q-mt-md",label:"Jumlah Saldo","input-class":"saldo",rules:[l=>s(z)(l)||"Jumlah Saldo Tidak Valid"],onKeyup:T(_,["enter"])},null,8,["modelValue","rules"])):i("",!0),b.value.length>0&&m.value?(t(),r(j,{key:2,bordered:"",class:"rounded-borders q-mt-md",separator:""},{default:o(()=>[(t(!0),w(K,null,D(b.value,(l,L)=>(t(),r(U,{clickable:"",key:L},{default:o(()=>[a(f,{avatar:""},{default:o(()=>[a(J,{name:"credit_card"})]),_:1}),a(f,null,{default:o(()=>[S(C(l.name)+" ",1),a($,{caption:""},{default:o(()=>[S(C(s(H)(l.jumlah_dana)),1)]),_:2},1024)]),_:2},1024),a(f,{side:""},{default:o(()=>[a(c,{class:"custom-round",flat:"",color:"primary",icon:"r_delete_outline",onClick:Y=>s(e).removeBalance(l)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):i("",!0),n.value?i("",!0):(t(),r(c,{key:3,unelevated:"",label:"Tambah Saldo",onClick:F,class:"save-btn q-mt-md",color:"blue",icon:"add",style:{width:"100%"}})),n.value?(t(),r(c,{key:4,unelevated:"",label:"Simpan Saldo",onClick:_,class:"save-btn q-mt-md",color:"blue",icon:"save",style:{width:"100%"}})):i("",!0),n.value?(t(),r(c,{key:5,unelevated:"",label:"Batalkan",onClick:I,class:"save-btn q-mt-md",color:"negative",icon:"close",style:{width:"100%"}})):i("",!0)]),_:1})]),_:1}),a(M,{align:"right"},{default:o(()=>[a(c,{flat:"",label:"Tutup",onClick:h,class:"custom-round",color:"negative"}),a(c,{unelevated:"",label:"Simpan",onClick:k,class:"save-btn",color:"primary"})]),_:1})])}}},se=x(X,[["__file","AddFormContent.vue"]]);export{se as A};
