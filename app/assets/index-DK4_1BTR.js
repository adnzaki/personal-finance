import{r as y,bt as R,c as h,ar as L}from"./index-Dwdq71JK.js";var g=y(null),m=y(null),N={pageLinks:[],limit:10,offset:0,prev:0,next:0,first:0,last:0,setStart:0,totalRows:0,numLinks:!0,activeClass:"active",linkClass:"item",disabledClass:"disabled",showPaging:!0,search:"",data:[],orderBy:"",searchBy:"",sort:"ASC",whereClause:null,url:"",ascendingSort:!1,linkNum:!1,rows:10,token:"",useAuth:!0,mode:"cors",debug:!1,delay:{active:!1,timeout:500},autoReset:{active:!1,timeout:3e3},sentences:{indonesia:{noData:"Tidak ada data yang ditampilkan",showRows:"Menampilkan baris",from:"dari",rows:"baris"},english:{noData:"No data to display",showRows:"Showing row",from:"from",rows:"rows"}},pagingLang:"english"},e=R(N);function S(a){return a+1===l.value?e.disabledClass:""}function B(){e.search===""&&e.autoReset.active&&setTimeout(function(){e.offset=0,i()},e.autoReset.timeout)}function D(a){e.offset=a,i()}function q(){var a;e.delay.active?a=e.delay.timeout:a=0,setTimeout(function(){e.offset=0,i()},a)}function A(){e.offset=l.value-1,i()}function P(a){e.sort==="ASC"?e.ascendingSort=!0:e.ascendingSort=!1,e.ascendingSort?(e.ascendingSort=!1,e.sort="DESC"):(e.ascendingSort=!0,e.sort="ASC"),e.orderBy=a,i()}function T(){e.limit=e.rows,e.offset=0,i()}function i(){C({token:e.token,lang:e.pagingLang,limit:e.limit,offset:e.offset,orderBy:e.orderBy,searchBy:e.searchBy,sort:e.sort,where:e.whereClause,search:e.search,url:e.url,linkNum:e.linkNum,mode:e.mode,activeClass:e.activeClass,linkClass:e.linkClass,autoReset:{active:e.autoReset.active,timeout:e.autoReset.timeout},delay:{active:e.delay.active,timeout:e.delay.timeout},useAuth:e.useAuth,debug:e.debug,beforeRequest:function(){g.value!==null&&g.value()},afterRequest:function(){m.value!==null&&m.value()}},!0),e.debug&&(console.clear(),console.info("If you see this message, it means getData() is executed through runPaging() and your initial options have been redefined using reactive state."))}function C(a,t){var n;t===void 0&&(t=!1),e.token=a.token,e.pagingLang=a.lang,e.debug=a.debug;var r;if(a.rawUrl===void 0){e.url=a.url,e.limit=a.limit,e.offset=a.offset*a.limit,e.orderBy=a.orderBy,typeof a.searchBy=="string"?e.searchBy=a.searchBy:e.searchBy=a.searchBy.join("-"),e.sort=a.sort,e.search=a.search;var u=void 0;e.search===""?u="":u="/"+e.search;var w="".concat(a.url).concat(e.limit,"/").concat(e.offset,"/").concat(e.orderBy,"/").concat(e.searchBy,"/").concat(e.sort);a.where===void 0||a.where===!1?(r="".concat(w).concat(u),e.whereClause=!1):r="".concat(w,"/").concat(e.whereClause).concat(u)}else e.url=a.rawUrl,r=a.rawUrl;a.autoReset!==void 0&&(e.autoReset.active=a.autoReset.active,a.autoReset.timeout!==void 0&&(e.autoReset.timeout=a.autoReset.timeout)),a.delay!==void 0&&(e.delay.active=a.delay.active,a.delay.timeout!==void 0&&(e.delay.timeout=a.delay.timeout)),a.beforeRequest!==void 0&&(t||(g.value=function(){return a.beforeRequest()}),a.beforeRequest());var o={};a.useAuth===!1?(o={method:"GET"},e.useAuth=a.useAuth):o={method:"GET",mode:a.mode===void 0?"cors":a.mode,headers:{Authorization:(n=a.token)!==null&&n!==void 0?n:""}},a.mode!==void 0&&(e.mode=a.mode),fetch(r,o).then(function(s){return s.json()}).then(function(s){var f,c,d,v;e.data=s.container,_({rows:s.totalRows,start:a.offset,linkNum:(f=a.linkNum)!==null&&f!==void 0?f:e.linkNum,activeClass:(c=a.activeClass)!==null&&c!==void 0?c:e.activeClass,linkClass:(d=a.linkClass)!==null&&d!==void 0?d:e.linkClass,disabledClass:(v=a.disabledClass)!==null&&v!==void 0?v:e.disabledClass}),a.afterRequest!==void 0&&(t||(m.value=function(){return a.afterRequest()}),a.afterRequest()),e.debug&&(console.info("Reactive state:"),console.log(e),console.info("Below are options you have provided:"),console.log(a))}).catch(function(s){console.error("Error:",s)})}function _(a){e.totalRows=a.rows,e.activeClass=a.activeClass,e.linkClass=a.linkClass,e.disabledClass=a.disabledClass,e.linkNum=a.linkNum,e.pageLinks=[];var t=a.rows/e.limit;t=Math.ceil(t);var n;a.linkNum===!1&&(e.numLinks=!1),typeof a.linkNum=="number"?a.linkNum>t||a.linkNum<1?n=1:(a.linkNum%2!==0?n=a.linkNum-1:n=a.linkNum,n=l.value-n/2,n<1&&(n=1)):n=1;for(var r=n;r<=t&&(e.pageLinks.push(r),e.pageLinks.length!==a.linkNum);r++);e.last=t,a.start===(e.last-=1)?e.next=a.start:e.next=a.start+1,a.start===e.first?e.prev=a.start:e.prev=a.start-1,e.debug&&(console.info("Settings for generating pagination:"),console.log(a),console.info("Total possible links (if shown): "+t),console.info("Start link: "+n),console.info("If startLink value never change, it may caused linkNum is hidden"))}function x(a){return a===l.value?e.activeClass:""}function E(a){return k.value+a}var l=h(function(){return e.offset/e.limit+1}),b=h(function(){var a=e.offset/e.limit,t;return a===e.last?t=e.totalRows:t=e.offset+e.limit,t}),k=h(function(){var a;return e.offset===0?a=1:a=e.offset+1,a});function U(){if(e.pageLinks.length===0)return e.showPaging=!1,e.sentences[e.pagingLang]===void 0?"":e.sentences[e.pagingLang].noData;e.showPaging=!0;var a="Unable to load rows range.";return e.sentences[e.pagingLang]!==void 0&&(a="".concat(e.sentences[e.pagingLang].showRows," ").concat(k.value,` - 
                      `).concat(b.value," ").concat(e.sentences[e.pagingLang].from," ").concat(e.totalRows,` 
                      `).concat(e.sentences[e.pagingLang].rows)),a}function j(){return{state:e,isDisabled:S,onSearchChanged:B,nav:D,filter:q,reloadData:A,sortData:P,showPerPage:T,runPaging:i,getData:C,activeLink:x,activePage:l,itemNumber:E,rowRange:U,dataFrom:k,dataTo:b}}var I=L("sspaging",function(){return j()});export{I as u};
