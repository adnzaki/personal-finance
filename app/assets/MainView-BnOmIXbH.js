import{ak as h,N as x,L as C,al as V,au as $,at as q,_ as v,r as u,l as n,m,f as e,n as o,Q as w,u as r,t as b,am as p,G as g,ap as P,F as Q,ah as N,J as S,I as f,H as z,q as y,an as k}from"./index-DHhMYjuE.js";import{t as B,w as M}from"./screen-BYHJ7sa_.js";import{Q as U}from"./QForm-CnrAsF2X.js";import{u as L}from"./use-quasar-DiZQ859o.js";const E=h("setting",{state:()=>({baseUrl:"settings/",data:{oldPassword:"",newPassword:"",confirmNewPassword:""}}),actions:{updatePassword(){const c=`${this.baseUrl}update-password`,s=x.create({group:!1,spinner:!0,message:"Mengubah password...",color:"info",position:"center",timeout:0});C.post(c,this.data,{headers:{Authorization:V},transformRequest:[l=>$(l)]}).then(({data:l})=>{s({timeout:q}),l.code===500?(this.error=l.msg,s({message:"Error! Silakan isi form dengan benar.",color:"negative",spinner:!1})):l.code===503?s({message:`Error! ${l.msg}`,color:"negative",spinner:!1}):(s({message:"Password berhasil diubah.",color:"positive",spinner:!1}),this.data={oldPassword:null,newPassword:null,confirmNewPassword:null})}).catch(({response:l})=>{s({message:`Error! ${l.data.msg}`,color:"negative",spinner:!1})})}}}),F={__name:"ChangePassword",setup(c){const s=E();L();const l=u(!1),i=u(!1),d=u(!1),_=u("Ganti Password");return(R,t)=>(n(),m(Q,null,[e(p,{class:"scroll card-section"},{default:o(()=>[e(U,{class:"q-gutter-xs"},{default:o(()=>[e(w,{filled:"",modelValue:r(s).data.oldPassword,"onUpdate:modelValue":t[1]||(t[1]=a=>r(s).data.oldPassword=a),class:"rounded-field q-mb-md",label:"Password Saat Ini",type:l.value?"text":"password","lazy-rules":"",rules:[a=>!!a||"Password saat ini harus diisi"]},{append:o(()=>[e(b,{name:l.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[0]||(t[0]=a=>l.value=!l.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),e(w,{filled:"",modelValue:r(s).data.newPassword,"onUpdate:modelValue":t[3]||(t[3]=a=>r(s).data.newPassword=a),class:"rounded-field q-mb-md",label:"Password Baru","lazy-rules":"",type:i.value?"text":"password",rules:[a=>!!a||"Password baru harus diisi"]},{append:o(()=>[e(b,{name:i.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[2]||(t[2]=a=>i.value=!i.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),e(w,{filled:"",modelValue:r(s).data.confirmNewPassword,"onUpdate:modelValue":t[5]||(t[5]=a=>r(s).data.confirmNewPassword=a),class:"rounded-field",label:"Konfirmasi Password Baru","lazy-rules":"",type:d.value?"text":"password",rules:[a=>!!a||"Silakan konfirmasi password baru terlebih dahulu",a=>a===r(s).data.newPassword||"Password tidak sama"]},{append:o(()=>[e(b,{name:d.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[4]||(t[4]=a=>d.value=!d.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),_:1})]),_:1}),e(P,{align:"center"},{default:o(()=>[e(g,{color:"primary",class:"btn-w95 save-btn q-mb-md mobile-only",label:_.value,onClick:t[6]||(t[6]=a=>r(s).updatePassword())},null,8,["label"])]),_:1}),e(P,{align:"left",class:"q-ml-sm"},{default:o(()=>[e(g,{color:"primary",class:"save-btn q-mb-md mobile-hide",label:_.value,onClick:t[7]||(t[7]=a=>r(s).updatePassword())},null,8,["label"])]),_:1})],64))}},I=v(F,[["__file","ChangePassword.vue"]]),A={key:0,class:"text-subtitle1 text-uppercase q-mb-sm"},T={key:1,class:"text-h6 text-capitalize"},D={__name:"LogoutMobile",setup(c){const s=u("Akun");return(l,i)=>{const d=N("logout-btn");return n(),S(k,{class:"content-card q-mt-lg"},{default:o(()=>[e(p,null,{default:o(()=>[l.$q.screen.lt.sm?(n(),m("div",A,f(s.value),1)):(n(),m("div",T,f(s.value),1))]),_:1}),e(p,null,{default:o(()=>[z("div",{class:y(["row",r(B)()])},[e(d,{class:"mobile-only"})],2)]),_:1})]),_:1})}}},G=v(D,[["__file","LogoutMobile.vue"]]),H={key:0,class:"text-subtitle1 text-uppercase"},J={key:1,class:"text-h6 text-capitalize"},K={__name:"MainView",setup(c){const s=u("Ubah Password");return(l,i)=>(n(),m("div",{class:y(r(M)())},[e(k,{class:"content-card"},{default:o(()=>[e(p,null,{default:o(()=>[l.$q.screen.lt.sm?(n(),m("div",H,f(s.value),1)):(n(),m("div",J,f(s.value),1))]),_:1}),e(I)]),_:1}),e(G,{class:"mobile-only"})],2))}},Y=v(K,[["__file","MainView.vue"]]);export{Y as default};
