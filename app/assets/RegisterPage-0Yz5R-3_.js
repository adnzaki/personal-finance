import{_ as S,r as l,c as v,u as C,J as U,n as r,j as o,H as u,an as R,am as T,M as B,Q as m,v as b,G as _,t as k,L as P,au as h,at as V}from"./index-0R1gVagW.js";import{Q as j}from"./QPageContainer-CLNm923L.js";import{a as E}from"./QLayout-BRIFiaTt.js";import{u as y}from"./use-quasar-CLS4z2W5.js";const z={__name:"RegisterPage",setup(x,{expose:s}){s();const c=y(),a=l(""),i=l(""),n=l(""),e=l(""),Q=l(!1),f=l(!1),q=v(()=>!!(a.value===""||i.value===""||!p(i.value)||n.value===""||e.value===""||n.value!==e.value||f.value)),p=t=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t),w={$q:c,username:a,email:i,password:n,confirmPassword:e,showPassword:Q,registrationSuccess:f,disableButton:q,isValidEmail:p,signup:()=>{const t=c.notify({group:!1,spinner:!0,message:"Mendaftarkan akun...",color:"info",position:"center",timeout:0}),g={username:a.value,email:i.value,password:n.value,password_confirm:e.value};P.post("signup",g,{transformRequest:[d=>h(d)]}).then(({data:d})=>{t({timeout:V}),d.code===500?t({color:"negative",message:`Gagal mendaftarkan akun: ${d.msgString}`,spinner:!1,timeout:0,actions:[{icon:"close",color:"white",round:!0,handler:()=>{}}]}):(t({color:"positive",icon:"done",spinner:!1,message:"Sukses! Akun berhasil didaftarkan",timeout:2500}),f.value=!0,setTimeout(()=>{t({color:"positive",spinner:!0,message:"Mengembalikan ke halaman login...",timeout:0}),setTimeout(()=>{window.location.href=k.loginUrl()},2500)},2500))})},ref:l,computed:v,get conf(){return k},get api(){return P},get createFormData(){return h},get timeout(){return V},get useQuasar(){return y}};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}},A={class:"q-pa-md q-mt-md row items-start q-gutter-md"},H={class:"q-gutter-lg q-mt-lg"};function L(x,s,c,a,i,n){return C(),U(E,{view:"hHh lpR fFf",class:"login-layout"},{default:r(()=>[o(j,null,{default:r(()=>[u("div",A,[o(R,{class:"login-card col-md-4 col-sm-8 offset-md-4 offset-sm-2"},{default:r(()=>[o(T,null,{default:r(()=>[s[6]||(s[6]=u("div",{class:"text-h6 text-center"},[B(" Let's "),u("strong",null,"Get Started!")],-1)),u("div",H,[o(m,{class:"rounded-field",outlined:"",modelValue:a.username,"onUpdate:modelValue":s[0]||(s[0]=e=>a.username=e),label:"Username",placeholder:"Hanya boleh terdiri dari huruf, angka dan titik (tanpa spasi)",rules:[e=>!!e||"Username wajib diisi"]},null,8,["modelValue","rules"]),o(m,{class:"rounded-field",outlined:"",modelValue:a.email,"onUpdate:modelValue":s[1]||(s[1]=e=>a.email=e),label:"Email",placeholder:"(Contoh: myaccount@example.com)",rules:[e=>!!e||"Email wajib diisi",e=>a.isValidEmail(e)||"Email tidak valid"]},null,8,["modelValue","rules"]),o(m,{class:"rounded-field",outlined:"",modelValue:a.password,"onUpdate:modelValue":s[3]||(s[3]=e=>a.password=e),type:a.showPassword?"text":"password",label:"Password",rules:[e=>!!e||"Password wajib diisi"]},{append:r(()=>[o(b,{name:a.showPassword?"visibility_off":"visibility",class:"cursor-pointer",onClick:s[2]||(s[2]=e=>a.showPassword=!a.showPassword)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),o(m,{outlined:"",class:"rounded-field",modelValue:a.confirmPassword,"onUpdate:modelValue":s[5]||(s[5]=e=>a.confirmPassword=e),type:a.showPassword?"text":"password",label:"Konfirmasi Password",rules:[e=>!!e||"Silakan konfirmasi password baru terlebih dahulu",e=>e===a.password||"Password tidak sama"]},{append:r(()=>[o(b,{name:a.showPassword?"visibility_off":"visibility",class:"cursor-pointer",onClick:s[4]||(s[4]=e=>a.showPassword=!a.showPassword)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),o(_,{color:"blue",size:"lg",icon:"r_person_add",label:"Sign Up",class:"full-width q-mt-lg custom-round",disable:a.disableButton,onClick:a.signup},null,8,["disable"]),o(_,{color:"primary",flat:"",icon:"r_arrow_back",label:"Kembali ke Halaman Login",class:"full-width q-mt-md custom-round",to:"/login"})]),_:1})]),_:1})])]),_:1})]),_:1})}const I=S(z,[["render",L],["__file","RegisterPage.vue"]]);export{I as default};
