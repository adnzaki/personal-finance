import{r as i,c as V,K as y,m as _,n,f as s,H as m,ao as x,an as Q,M as h,t as c,Q as v,G as g,L as q,as as C,at as P,v as U}from"./index-Ce0IJ7ho.js";import{Q as S}from"./QPageContainer-B5uJ-uUu.js";import{a as T}from"./QLayout-uv6JW7fP.js";import{u as B}from"./use-quasar-5TzLoxai.js";const R={class:"q-pa-md q-mt-md row items-start q-gutter-md"},$={class:"q-gutter-lg q-mt-lg"},G={__name:"RegisterPage",setup(z){const w=B(),d=i(""),u=i(""),t=i(""),r=i(""),l=i(!1),p=i(!1),b=V(()=>!!(d.value===""||u.value===""||!f(u.value)||t.value===""||r.value===""||t.value!==r.value||p.value)),f=o=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(o),k=()=>{const o=w.notify({group:!1,spinner:!0,message:"Mendaftarkan akun...",color:"info",position:"center",timeout:0}),a={username:d.value,email:u.value,password:t.value,password_confirm:r.value};q.post("signup",a,{transformRequest:[e=>C(e)]}).then(({data:e})=>{o({timeout:P}),e.code===500?o({color:"negative",message:`Gagal mendaftarkan akun: ${e.msgString}`,spinner:!1,timeout:0,actions:[{icon:"close",color:"white",round:!0,handler:()=>{}}]}):(o({color:"positive",icon:"done",spinner:!1,message:"Sukses! Akun berhasil didaftarkan",timeout:2500}),p.value=!0,setTimeout(()=>{o({color:"positive",spinner:!0,message:"Mengembalikan ke halaman login...",timeout:0}),setTimeout(()=>{window.location.href=U.loginUrl()},2500)},2500))})};return(o,a)=>(_(),y(T,{view:"hHh lpR fFf",class:"login-layout"},{default:n(()=>[s(S,null,{default:n(()=>[m("div",R,[s(x,{class:"login-card col-md-4 col-sm-8 offset-md-4 offset-sm-2"},{default:n(()=>[s(Q,null,{default:n(()=>[a[6]||(a[6]=m("div",{class:"text-h6 text-center"},[h(" Let's "),m("strong",null,"Get Started!")],-1)),m("div",$,[s(c,{class:"rounded-field",outlined:"",modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e),label:"Username",placeholder:"Hanya boleh terdiri dari huruf, angka dan titik (tanpa spasi)",rules:[e=>!!e||"Username wajib diisi"]},null,8,["modelValue","rules"]),s(c,{class:"rounded-field",outlined:"",modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=e=>u.value=e),label:"Email",placeholder:"(Contoh: myaccount@example.com)",rules:[e=>!!e||"Email wajib diisi",e=>f(e)||"Email tidak valid"]},null,8,["modelValue","rules"]),s(c,{class:"rounded-field",outlined:"",modelValue:t.value,"onUpdate:modelValue":a[3]||(a[3]=e=>t.value=e),type:l.value?"text":"password",label:"Password",rules:[e=>!!e||"Password wajib diisi"]},{append:n(()=>[s(v,{name:l.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[2]||(a[2]=e=>l.value=!l.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),s(c,{outlined:"",class:"rounded-field",modelValue:r.value,"onUpdate:modelValue":a[5]||(a[5]=e=>r.value=e),type:l.value?"text":"password",label:"Konfirmasi Password",rules:[e=>!!e||"Silakan konfirmasi password baru terlebih dahulu",e=>e===t.value||"Password tidak sama"]},{append:n(()=>[s(v,{name:l.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[4]||(a[4]=e=>l.value=!l.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),s(g,{color:"blue",size:"lg",icon:"r_person_add",label:"Sign Up",class:"full-width q-mt-lg custom-round",disable:b.value,onClick:k},null,8,["disable"]),s(g,{color:"primary",flat:"",icon:"r_arrow_back",label:"Kembali ke Halaman Login",class:"full-width q-mt-md custom-round",to:"/login"})]),_:1})]),_:1})])]),_:1})]),_:1}))}};export{G as default};
