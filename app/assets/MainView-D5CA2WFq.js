import{_ as C,u as c,m as v,H as f,j as t,G as _,n as r,r as p,ao as F,c as V,ah as O,F as Y,ai as U,J as T,M as D,I as b,q as P,W as x,v as w,av as H,an as I,aq as L,am as G,ar as N,Q as R}from"./index-D-6t3Skm.js";import{b as E,w as J,t as K}from"./screen-Du9EXmt7.js";import{Q as W,f as A,a as X}from"./QSpace-DUFslAxy.js";import{u as g,F as Z,Q as ee,a as te,d as $}from"./FormContent-DiaOfpfk.js";import{Q as h,a as m}from"./QItemSection-CrXKyLmV.js";import{Q as q}from"./QItemLabel-ASLgX9dO.js";import{Q as ae}from"./QBadge-COU19A39.js";import{Q as B}from"./QList-DsR3IaR3.js";import{a as re}from"./QSelect-DDY5qegu.js";import{C as S}from"./ClosePopup-BRj3iwYa.js";import{u as j}from"./index-MxqVipEs.js";import{u as z}from"./use-quasar-DDQxJQOd.js";import{i as M}from"./cleave-zen.module-BjngOIXk.js";import"./QBtnToggle-DmZZH1ow.js";import"./TouchPan-BzRk37Xm.js";import"./selection-BajQFwZt.js";import"./QForm-CNGEEaky.js";const oe={__name:"ButtonGroup",setup(u,{expose:a}){a();const e={store:g(),get fabPos(){return A},get useTransactionStore(){return g}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}},se={class:"col-12 col-md-5"},ne={class:"q-gutter-xs mobile-hide"};function le(u,a,s,e,i,l){return c(),v("div",se,[f("div",ne,[t(_,{icon:"add",class:"q-pl-sm custom-round",unelevated:"",color:"primary",label:"Tambah",onClick:a[0]||(a[0]=o=>e.store.showForm=!0)})]),t(W,{position:"bottom-right",offset:e.fabPos,class:"mobile-only custom-fab"},{default:r(()=>[t(_,{fab:"",icon:"add",class:"custom-round",color:"primary",to:"/transaksi/add"})]),_:1},8,["offset"])])}const ie=C(oe,[["render",le],["__file","ButtonGroup.vue"]]),de={__name:"DataTable",setup(u,{expose:a}){a();const s=z(),e=j(),i=p(1),l=F(),o=g();o.getTransactions();const n=d=>{o.getDetail(d,()=>{s.screen.lt.sm?l.push("/transaksi/edit"):o.showForm=!0})},Q=d=>({income:"green-7",expense:"black",transfer:"black"})[d],k=V(()=>e.state.data),y={$q:s,paging:e,current:i,router:l,store:o,getDetail:n,amountColor:Q,data:k,ref:p,computed:V,get usePagingStore(){return j},get useTransactionStore(){return g},get useRouter(){return F},get useQuasar(){return z}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}},ce={class:"q-px-md q-pb-md"},ue={class:"text-subtitle1 text-weight-bold text-center",style:{"font-size":"1.4rem","margin-bottom":"0 !important"}},_e={class:"text-subtitle2 text-weight-regular",style:{"font-size":"0.8rem"}};function me(u,a,s,e,i,l){const o=O("data-nav");return c(),v("div",null,[f("div",ce,[t(B,{bordered:"",class:"rounded-borders",separator:""},{default:r(()=>[(c(!0),v(Y,null,U(e.data,(n,Q)=>(c(),T(h,{clickable:"",key:Q},{default:r(()=>[t(m,{avatar:""},{default:r(()=>[f("p",ue,[D(b(n.tgl_transaksi_dayOnly)+" ",1),a[1]||(a[1]=f("br",null,null,-1)),f("small",_e,b(n.tgl_transaksi_monthYear),1)])]),_:2},1024),t(m,null,{default:r(()=>[D(b(n.deskripsi)+" ",1),t(q,{caption:"",class:P(["text-"+e.amountColor(n.jenis_transaksi)])},{default:r(()=>[D(b(n.nominal),1)]),_:2},1032,["class"]),t(q,{caption:""},{default:r(()=>[t(ae,{color:"primary",label:n.sumber_dana,class:"q-mr-xs"},null,8,["label"])]),_:2},1024)]),_:2},1024),t(m,{side:""},{default:r(()=>[t(_,{class:"custom-round mobile-hide",flat:"",color:"primary",icon:"r_edit",onClick:k=>e.getDetail(n.id)},null,8,["onClick"]),t(_,{class:"custom-round mobile-only",flat:"",color:"primary",icon:"r_edit"},{default:r(()=>[t(re,null,{default:r(()=>[t(B,{style:{"min-width":"150px"}},{default:r(()=>[x((c(),T(h,{clickable:"",onClick:k=>e.getDetail(n.id)},{default:r(()=>[t(m,{avatar:""},{default:r(()=>[t(w,{name:"r_edit"})]),_:1}),t(m,null,{default:r(()=>a[2]||(a[2]=[D("Edit")])),_:1})]),_:2},1032,["onClick"])),[[S]]),t(H),x((c(),T(h,{clickable:"",onClick:k=>e.store.deleteTransaction(n.id)},{default:r(()=>[t(m,{avatar:""},{default:r(()=>[t(w,{name:"r_delete_outline"})]),_:1}),t(m,null,{default:r(()=>a[3]||(a[3]=[D("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[S]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),t(m,{side:"",class:"mobile-hide"},{default:r(()=>[t(_,{class:"custom-round",flat:"",color:"primary",icon:"r_delete_outline",onClick:k=>e.store.deleteTransaction(n.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),t(o,{modelValue:e.current,"onUpdate:modelValue":a[0]||(a[0]=n=>e.current=n)},null,8,["modelValue"])])])}const fe=C(de,[["render",me],["__file","DataTable.vue"]]),pe={__name:"FormDialog",setup(u,{expose:a}){a();const e={store:g(),get useTransactionStore(){return g},get dialogSize(){return E},FormContent:Z};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}},ge={class:"text-h6 text-capitalize"};function be(u,a,s,e,i,l){return c(),T(N,{"no-backdrop-dismiss":"",modelValue:e.store.showForm,"onUpdate:modelValue":a[0]||(a[0]=o=>e.store.showForm=o),onHide:a[1]||(a[1]=o=>e.store.resetForm())},{default:r(()=>[t(I,{class:"q-pa-sm",style:L(e.dialogSize())},{default:r(()=>[t(G,{class:"row items-center q-pb-none"},{default:r(()=>[f("div",ge,b(e.store.formTitle),1),t(X),x(t(_,{icon:"close",flat:"",round:"",dense:""},null,512),[[S]])]),_:1}),t(e.FormContent)]),_:1},8,["style"])]),_:1},8,["modelValue"])}const ve=C(pe,[["render",be],["__file","FormDialog.vue"]]),ke={__name:"DateFilter",setup(u,{expose:a}){a();const s=g(),e=p(null),i=p("Filter Tanggal"),l=p(null),o=d=>$.formatDate(d,"DD-MMM-YYYY",M),y={store:s,datePicker:e,dateStr:i,dateValue:l,formatDate:o,onDatePickerChanged:d=>{d.from!==void 0&&d.to!==void 0?i.value=`${o(d.from)} sd. ${o(d.to)}`:i.value=o(d)},reset:()=>{l.value=null,i.value="Filter Tanggal",s.filter.date="all",e.value=null,s.getTransactions()},save:()=>{e.value.from!==void 0&&e.value.to!==void 0?l.value=`${e.value.from.replace(/\//g,"-")}_${e.value.to.replace(/\//g,"-")}`:l.value=e.value.replace(/\//g,"-"),s.filter.date=l.value,s.getTransactions()},ref:p,get date(){return $},get indonesiaDate(){return M},get useTransactionStore(){return g}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}},xe={class:"col-12 col-md-3 justify-end"},Se={class:"row items-center justify-end q-gutter-sm"};function ye(u,a,s,e,i,l){return c(),v("div",xe,[t(R,{outlined:"",modelValue:e.dateStr,"onUpdate:modelValue":a[1]||(a[1]=o=>e.dateStr=o),class:"rounded-field date-filter",dense:"",readonly:""},{append:r(()=>[t(w,{name:"event",class:"cursor-pointer"},{default:r(()=>[t(ee,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:r(()=>[t(te,{modelValue:e.datePicker,"onUpdate:modelValue":[a[0]||(a[0]=o=>e.datePicker=o),e.onDatePickerChanged],range:""},{default:r(()=>[f("div",Se,[x(t(_,{label:"Cancel",color:"primary",flat:""},null,512),[[S]]),x(t(_,{label:"Reset",onClick:e.reset,color:"negative",flat:""},null,512),[[S]]),x(t(_,{label:"OK",color:"primary",flat:"",onClick:e.save},null,512),[[S]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const De=C(ke,[["render",ye],["__file","DateFilter.vue"]]),Ce={__name:"MainView",setup(u,{expose:a}){a();const e={cardTitle:p("Transaksi"),ref:p,get wrapperPadding(){return J},get titleSpacing(){return K},ButtonGroup:ie,DataTable:fe,FormDialog:ve,DateFilter:De};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}},Qe={key:0,class:"text-subtitle1 text-uppercase q-mb-sm"},Te={key:1,class:"text-h6 text-capitalize"};function he(u,a,s,e,i,l){const o=O("search-box");return c(),v("div",{class:P(e.wrapperPadding())},[t(I,{class:"content-card"},{default:r(()=>[t(G,{class:"q-mb-md"},{default:r(()=>[u.$q.screen.lt.sm?(c(),v("div",Qe,b(e.cardTitle),1)):(c(),v("div",Te,b(e.cardTitle),1)),f("div",{class:P(["row",e.titleSpacing()])},[t(e.ButtonGroup),t(e.DateFilter),t(o,{label:"Cari transaksi..."})],2)]),_:1}),t(e.DataTable),t(e.FormDialog)]),_:1})],2)}const Re=C(Ce,[["render",he],["__file","MainView.vue"]]);export{Re as default};
