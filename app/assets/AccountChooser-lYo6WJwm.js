import{ap as V,r as S,c as M,o as P,l,m as t,H as m,p as q,f as e,n as a,an as D,u as f,J as k,F,aj as H,K as u,Q as v,M as g,I as O,G as p,W as A,ay as T,ao as W,v as j,L as E}from"./index-BEae-QxD.js";import{Q as y,a as r,b as G}from"./QItemLabel-CbsxHInV.js";import{Q as w}from"./QList-Dzw1nEIw.js";import{Q as J}from"./QMenu-BfcMvzKR.js";import{C as I}from"./ClosePopup-BCBg_jGn.js";import{a as K}from"./screen-XxRhnY2M.js";import{u as R}from"./use-quasar-D4Rp_hc1.js";import{u as U}from"./login-store-COZMaY94.js";const X={class:"row q-col-gutter-sm"},Y={class:"col-12"},Z={key:0,class:"text-subtitle1 text-uppercase q-mb-sm"},ee={key:1,class:"text-h6 text-capitalize"},ae={key:0,class:"q-px-md q-pb-md"},te={key:0,class:"row"},oe={key:1,class:"q-px-md q-pb-md text-center"},se={class:"q-px-md"},pe={__name:"AccountChooser",props:{cardStyle:{default:"",type:String}},setup(b){const c=R(),L=V(),d=U(),C=S("Akun Lainnya"),i=S([]),$=b,B=M(()=>$.cardStyle==="custom-round"?K():""),h=()=>{i.value=d.getSavedAccounts(),i.value=i.value.filter(o=>o.name!==localStorage.getItem("username"))};P(()=>{h()});const N=()=>{c.cookies.remove("sisauang_api_session"),E.get("delete-default-cookie").then(()=>{localStorage.setItem("addAccount",1),L.push("/login")})},Q=o=>{d.removeAccount(!1,o),h()},x=(o,s)=>{c.cookies.remove("sisauang_api_session"),d.setCookieOptions(),localStorage.setItem("username",o),c.cookies.set(j.cookieName,s,d.cookieOptions),window.location.reload()};return(o,s)=>(t(),l("div",X,[m("div",Y,[m("div",{class:q([B.value,"q-mb-md"])},[e(W,{class:q(["content-card",b.cardStyle])},{default:a(()=>[e(D,{class:"q-mb-lg"},{default:a(()=>[f(c).screen.lt.sm?(t(),l("div",Z,k(C.value),1)):(t(),l("div",ee,k(C.value),1))]),_:1}),i.value.length>0?(t(),l("div",ae,[e(w,{bordered:"",class:"rounded-borders",separator:""},{default:a(()=>[(t(!0),l(F,null,H(i.value,(n,z)=>(t(),u(y,{clickable:"",key:z},{default:a(()=>[e(r,{avatar:""},{default:a(()=>[e(v,{color:"primary",name:"r_account_circle"})]),_:1}),e(r,null,{default:a(()=>[e(G,{class:"text-bold"},{default:a(()=>[g(k(n.name),1)]),_:2},1024)]),_:2},1024),e(r,{avatar:""},{default:a(()=>[o.$route.path!=="/pengaturan"||f(c).screen.gt.xs?(t(),l("div",te,[e(p,{class:"custom-round",flat:"",color:"primary",icon:"r_login",size:"lg",onClick:_=>x(n.name,n.token)},null,8,["onClick"]),o.$route.path==="/pengaturan"&&f(c).screen.gt.xs?(t(),u(p,{key:0,class:"custom-round",flat:"",color:"primary",icon:"r_delete_outline",size:"lg",onClick:_=>Q(n.name)},null,8,["onClick"])):O("",!0)])):(t(),u(p,{key:1,class:"custom-round mobile-only",flat:"",color:"primary",icon:"r_edit"},{default:a(()=>[e(J,null,{default:a(()=>[e(w,{style:{"min-width":"150px"}},{default:a(()=>[A((t(),u(y,{clickable:"",onClick:_=>x(n.name,n.token)},{default:a(()=>[e(r,{avatar:""},{default:a(()=>[e(v,{name:"r_login"})]),_:1}),e(r,null,{default:a(()=>s[0]||(s[0]=[g("Login")])),_:1})]),_:2},1032,["onClick"])),[[I]]),e(T),A((t(),u(y,{clickable:"",onClick:_=>Q(n.name)},{default:a(()=>[e(r,{avatar:""},{default:a(()=>[e(v,{name:"r_delete_outline"})]),_:1}),e(r,null,{default:a(()=>s[1]||(s[1]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[I]])]),_:2},1024)]),_:2},1024)]),_:2},1024))]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(t(),l("div",oe,s[2]||(s[2]=[m("p",null,"Belum ada akun lain yang tersimpan.",-1)]))),m("div",se,[e(p,{flat:"",label:"Tambahkan Akun",class:"save-btn q-mb-md see-more",color:"primary",onClick:N})])]),_:1},8,["class"])],2)])]))}};export{pe as _};
