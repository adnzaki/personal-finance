import{ak as P,N as y,L as k,al as h,au as C,at as x,_ as f,r as i,l as d,m,f as a,n,Q as p,u as r,t as c,am as g,G as b,ap as v,F as V,ah as Q,J as $,H as q,I as _,an as N,q as S}from"./index-UMOA-G-5.js";import{w as B}from"./screen-TfB-iNrx.js";import{Q as M}from"./QForm-usSJhMFR.js";import{u as z}from"./use-quasar-B_TyJm0N.js";import{Q as U}from"./QPageContainer-w1gj_-Ud.js";const I=P("setting",{state:()=>({baseUrl:"settings/",data:{oldPassword:"",newPassword:"",confirmNewPassword:""}}),actions:{updatePassword(){const u=`${this.baseUrl}update-password`,s=y.create({group:!1,spinner:!0,message:"Mengubah password...",color:"info",position:"center",timeout:0});k.post(u,this.data,{headers:{Authorization:h},transformRequest:[o=>C(o)]}).then(({data:o})=>{s({timeout:x}),o.code===500?(this.error=o.msg,s({message:"Error! Silakan isi form dengan benar.",color:"negative",spinner:!1})):o.code===503?s({message:`Error! ${o.msg}`,color:"negative",spinner:!1}):(s({message:"Password berhasil diubah.",color:"positive",spinner:!1}),this.data={oldPassword:null,newPassword:null,confirmNewPassword:null})}).catch(({response:o})=>{s({message:`Error! ${o.data.msg}`,color:"negative",spinner:!1})})}}}),L={__name:"ChangePassword",setup(u){const s=I();z();const o=i(!1),t=i(!1);i(!1);const w=i("Ganti Password");return(J,l)=>(d(),m(V,null,[a(g,{class:"scroll card-section"},{default:n(()=>[a(M,{class:"q-gutter-xs"},{default:n(()=>[a(p,{filled:"",modelValue:r(s).data.oldPassword,"onUpdate:modelValue":l[1]||(l[1]=e=>r(s).data.oldPassword=e),class:"rounded-field q-mb-md",label:"Password Saat Ini",type:o.value?"text":"password","lazy-rules":"",rules:[e=>!!e||"Password saat ini harus diisi"]},{append:n(()=>[a(c,{name:o.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:l[0]||(l[0]=e=>o.value=!o.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),a(p,{filled:"",modelValue:r(s).data.newPassword,"onUpdate:modelValue":l[3]||(l[3]=e=>r(s).data.newPassword=e),class:"rounded-field q-mb-md",label:"Password Baru","lazy-rules":"",type:t.value?"text":"password",rules:[e=>!!e||"Password baru harus diisi"]},{append:n(()=>[a(c,{name:t.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:l[2]||(l[2]=e=>t.value=!t.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),a(p,{filled:"",modelValue:r(s).data.confirmNewPassword,"onUpdate:modelValue":l[5]||(l[5]=e=>r(s).data.confirmNewPassword=e),class:"rounded-field",label:"Konfirmasi Password Baru","lazy-rules":"",type:t.value?"text":"password",rules:[e=>!!e||"Silakan konfirmasi password baru terlebih dahulu",e=>e===r(s).data.newPassword||"Password tidak sama"]},{append:n(()=>[a(c,{name:t.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:l[4]||(l[4]=e=>t.value=!t.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),_:1})]),_:1}),a(v,{align:"center"},{default:n(()=>[a(b,{color:"primary",class:"btn-w95 save-btn q-mb-md mobile-only",label:w.value,onClick:l[6]||(l[6]=e=>r(s).updatePassword())},null,8,["label"])]),_:1}),a(v,{align:"left",class:"q-ml-sm"},{default:n(()=>[a(b,{color:"primary",class:"save-btn q-mb-md mobile-hide",label:w.value,onClick:l[7]||(l[7]=e=>r(s).updatePassword())},null,8,["label"])]),_:1})],64))}},E=f(L,[["__file","ChangePassword.vue"]]),F={class:"q-px-md row items-start logout-mobile"},A={__name:"LogoutMobile",setup(u){return i("Akun"),(s,o)=>{const t=Q("logout-btn");return d(),$(U,null,{default:n(()=>[q("div",F,[a(t,{class:"mobile-only"})])]),_:1})}}},D=f(A,[["__scopeId","data-v-5ae5fcc2"],["__file","LogoutMobile.vue"]]),G={key:0,class:"text-subtitle1 text-uppercase"},T={key:1,class:"text-h6 text-capitalize"},H={__name:"MainView",setup(u){const s=i("Ubah Password");return(o,t)=>(d(),m("div",{class:S(r(B)())},[a(N,{class:"content-card"},{default:n(()=>[a(g,null,{default:n(()=>[o.$q.screen.lt.sm?(d(),m("div",G,_(s.value),1)):(d(),m("div",T,_(s.value),1))]),_:1}),a(E)]),_:1}),a(D,{class:"mobile-only"})],2))}},X=f(H,[["__file","MainView.vue"]]);export{X as default};
